#!/usr/bin/env ruby

require "ibtoolTranslation/version"
require "ibtoolTranslation"
require "thor"

module IbtoolTranslation
  #= IbtoolTranslation CLI
  class CLI < Thor
    class_option :help, :type => :boolean, :aliases => '-h', :desc => 'help message.'
    class_option :version, :type => :boolean, :desc => 'version'
    default_task :execute

    option :dir, :type => :string, :aliases => '-d'
    option :from, :type => :string , :aliases => '-f'
    option :to, :type => :array, :aliases => '-t'
    desc "execute", "show dialog with title, message"
    def execute
      if options[:version]
        self.version
      else
        IbtoolTranslation::Core.new.func(options[:dir], options[:from], options[:to])
      end
    end

    desc "version", "version"
    def version
      p IbtoolTranslation::VERSION
    end
  end
end

IbtoolTranslation::CLI.start(ARGV)